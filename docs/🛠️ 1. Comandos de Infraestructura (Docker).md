## ðŸ› ï¸ 1. Comandos de Infraestructura (Docker)

Estos controlan los "motores" (los contenedores).

- **Levantar todo (en segundo plano):** `docker compose up -d`

- **Apagar todo:** `docker compose down`

- **Ver estado de los motores:** `docker ps`

- **Reiniciar un motor especÃ­fico (ej. Nginx):** `docker compose restart web`

- **Reconstruir imÃ¡genes (si cambias el Dockerfile):** `docker compose up -d --build`

- **Entrar a la "cabina" de la App (Bash):** `docker exec -it lucy-app bash`

---

## ðŸš€ 2. Comandos de AplicaciÃ³n (Laravel Artisan)

Estos se ejecutan **dentro** del contenedor de la app. Siempre precedidos por `docker exec -it lucy-app`.

- **Limpiar cachÃ© de configuraciÃ³n:** `php artisan config:clear`

- **Generar llave de seguridad:** `php artisan key:generate`

- **Crear una migraciÃ³n (tabla):** `php artisan make:migration create_nombre_table`

- **Ejecutar migraciones (crear tablas en DB):** `php artisan migrate`

- **Ver la lista de rutas:** `php artisan route:list`

- **Entrar a la consola interactiva de PHP:** `php artisan tinker`

---

## ðŸ“‹ 3. Comandos de DiagnÃ³stico (Logs)

Para cuando algo no funciona y necesitÃ¡s saber quÃ© pasÃ³ "bajo el capÃ³".

- **Logs de Nginx (errores de conexiÃ³n):** `docker logs -f lucy-web`

- **Logs de Laravel (errores de PHP):** `docker exec -it lucy-app tail -f storage/logs/laravel.log`

- **Logs de la Base de Datos:** `docker logs -f lucy-db`

---

## ðŸ” 4. Apartado Especial: GestiÃ³n de Permisos

En Docker (especialmente en Linux como tu Inspiron), los permisos son el 90% de los problemas. AquÃ­ estÃ¡ tu machete esencial:

### CÃ³mo VER los permisos

El comando `ls -l` es tu mejor amigo. Se lee asÃ­: `[permisos] [dueÃ±o] [grupo]`.

- **Ver permisos de una carpeta:** `ls -ld nombre_carpeta`

- **Ver permisos de todo el proyecto:** `ls -la`

- **Ver quiÃ©n es el usuario dentro de un contenedor:** `docker exec lucy-app whoami` (DeberÃ­a ser `laravel`).

### CÃ³mo CAMBIAR los permisos

Si Lucy se queja de que no puede escribir en el disco (Error 500 o logs bloqueados):

1. **Cambiar el DueÃ±o (Chown):** Hace que el usuario `laravel` (ID 1000) sea el dueÃ±o de los archivos para que PHP pueda operar.
   
   Bash
   
   ```
   docker exec -it --user root lucy-app chown -R 1000:1000 /var/www
   ```

2. **Dar permisos de Escritura (Chmod):** Asegura que las carpetas donde Laravel guarda datos sean escribibles.
   
   Bash
   
   ```
   docker exec -it --user root lucy-app chmod -R 775 /var/www/storage /var/www/bootstrap/cache
   ```

> **Tip Pro:** Si ves que un archivo creado desde tu Inspiron no se puede borrar desde el contenedor (o viceversa), es porque los IDs no coinciden. Por eso fijamos el `USER_ID=1000` en el `.env` y el `override`.
